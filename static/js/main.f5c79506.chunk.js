(this["webpackJsonpremote-work-equipment-stand"]=this["webpackJsonpremote-work-equipment-stand"]||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(36),c=n(26),l=n(17),u=n(120),i=n(121),s=n(129),m=n(122),f=n(130),d=n(131),p=n(123),E=n(37),g=n(118),v=Object(g.a)((function(){return{root:{flexGrow:1}}})),b=function(){var e=Object(l.c)(),t=Object(l.d)((function(e){return e.auth}),l.b),n=t.imageUrl,a=t.email,g=t.name,b=v(),O=!!g;return r.a.createElement(u.a,null,r.a.createElement("div",{className:b.root},r.a.createElement(i.a,null,r.a.createElement(s.a,null,g&&r.a.createElement(m.a,null,r.a.createElement(f.a,null,r.a.createElement(f.a,{alt:g,src:n}))),r.a.createElement(d.a,{primary:g,secondary:a}),r.a.createElement(p.a,null,O?r.a.createElement(o.GoogleLogout,{clientId:E.GOOGLE_AUTH,buttonText:"\u0412\u044b\u0439\u0442\u0438",onLogoutSuccess:function(){e(Object(c.a)())}}):r.a.createElement(o.GoogleLogin,{clientId:E.GOOGLE_AUTH,buttonText:"\u0412\u043e\u0439\u0442\u0438",onSuccess:function(t){e(Object(c.c)(t.profileObj))},onFailure:function(e){console.error(e)},cookiePolicy:"single_host_origin",isSignedIn:!0}))))))},O=n(38),j=n.n(O),h=n(59),y=n(39),w=n(124),L=n(125),S=n(127),G=n(128),k=n(61),x=n.n(k),P=n(62),T=n.n(P),D=n(60),C=n.n(D),F=Object(g.a)((function(e){return{root:{flexGrow:1,maxWidth:"20rem","& > *":{margin:e.spacing(1)}}}})),W=function(){var e=F(),t=Object(a.useState)(),n=Object(y.a)(t,2),o=n[0],c=n[1],l=Object(a.useState)(!1),u=Object(y.a)(l,2),E=u[0],g=u[1];Object(a.useEffect)((function(){var e=window;function t(e){e.stopPropagation(),e.preventDefault()}function n(e){e.stopPropagation(),e.preventDefault()}function a(e){e.stopPropagation(),e.preventDefault();var t=e.dataTransfer.files;c(t[0])}return e.addEventListener("dragenter",t,!1),e.addEventListener("dragover",n,!1),e.addEventListener("drop",a,!1),function(){e.removeEventListener("dragenter",t,!1),e.removeEventListener("dragover",n,!1),e.removeEventListener("drop",a,!1)}}),[]);var v=function(){c(null),O.current&&(O.current.value=O.current.defaultValue)},b=function(){var e=Object(h.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),(n=new FormData).append("file",o),e.next=5,C()({method:"post",url:"http://localhost:8080/upload-image",data:n,headers:{"Content-Type":"multipart/form-data"}});case 5:g(!0),v();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=Object(a.useRef)(null);return r.a.createElement("div",{className:e.root},r.a.createElement("form",{method:"post",encType:"multipart/form-data"},r.a.createElement("input",{ref:O,type:"file",id:"files",accept:".jpg",style:{display:"none"},onChange:function(e){c(e.target.files[0])}}),o&&r.a.createElement(i.a,null,r.a.createElement(s.a,null,r.a.createElement(m.a,null,r.a.createElement(f.a,null,r.a.createElement(x.a,null))),r.a.createElement(d.a,{primary:o.name,secondary:o.lastModifiedDate.toLocaleString(),title:"".concat(o.size," \u0431\u0430\u0439\u0442")}),r.a.createElement(p.a,null,r.a.createElement(w.a,{edge:"end","aria-label":"delete",onClick:v},r.a.createElement(T.a,null))))),r.a.createElement(L.a,{component:"label",htmlFor:"files",variant:"contained",size:"small"},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"),o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{component:"button",color:"primary",onClick:b,variant:"contained",type:"submit",size:"small"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")),r.a.createElement(S.a,{open:E,autoHideDuration:6e3,onClose:function(){return g(!1)}},r.a.createElement(G.a,{severity:"success"},"\u0424\u0430\u0439\u043b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d"))))};t.default=function(){var e=!!Object(l.d)((function(e){return e.auth.name}));return Object(a.useEffect)((function(){var e=new WebSocket("ws://localhost:8080/ws");e.onopen=function(){console.log("WS connected"),e.send("Ping from client")},e.onclose=function(e){console.log("WS closed connection",e)},e.onerror=function(e){console.log("WS error",e)}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(b,null),e&&r.a.createElement(W,null))}},26:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u}));var a=n(24),r={},o=Object(a.b)({name:"auth",initialState:r,reducers:{getProfile:function(e,t){return t.payload},clearProfile:function(){return r}}}),c=o.actions,l=c.getProfile,u=c.clearProfile;t.b=o.reducer},37:function(e){e.exports=JSON.parse('{"GOOGLE_AUTH":"930914015370-b31p63biqg1j0pbfr96qei9ujp1ttded.apps.googleusercontent.com"}')},69:function(e,t,n){e.exports=n(99)},79:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),c=n.n(o),l=n(17),u=n(24),i=n(14),s=n(26),m=Object(i.c)({auth:s.b});var f=Object(u.a)({reducer:m});n(79);!function(){var e=n(100).default;c.a.render(r.a.createElement(l.a,{store:f},r.a.createElement(e,null)),document.getElementById("root"))}()}},[[69,1,2]]]);
//# sourceMappingURL=main.f5c79506.chunk.js.map